<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account - Minyan List</title>
    <!-- Bootstrap 3 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Minyan List</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav navbar-right" id="navLinks">
                    <!-- Links will be populated by app.js -->
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h2>Create Your Account</h2>
                <form id="registrationForm">
                    <div class="form-group">
                        <label>Phone Number (from previous step):</label>
                        <p id="displayPhoneNumber" class="form-control-static"></p>
                    </div>

                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" class="form-control" id="password" name="password" minlength="6" required>
                        <p class="help-block">Password must be at least 6 characters long.</p>
                    </div>

                    <div class="form-group">
                        <label>Call Preference:</label>
                        <div class="radio">
                            <label>
                                <input type="radio" id="doNotCall" name="callPreference" value="doNotCall" checked>
                                Add to Do Not Call List
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" id="onCall" name="callPreference" value="onCall">
                                Add to On Call List
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="state">State:</label>
                        <select id="state" name="state" class="form-control" required>
                            <option value="">Select State</option>
                            <!-- States will be populated by JavaScript -->
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Create Account</button>
                </form>
                <div id="errorMessage" class="alert alert-danger" style="display:none; margin-top:15px;"></div>
                <div id="successMessage" class="alert alert-success" style="display:none; margin-top:15px;"></div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/app.js"></script>
    <script src="js/register.js"></script>

    <script>
        // Simple list of US states for the dropdown
        const usStates = [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado",
            "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho",
            "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana",
            "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota",
            "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada",
            "New Hampshire", "New Jersey", "New Mexico", "New York",
            "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon",
            "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota",
            "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington",
            "West Virginia", "Wisconsin", "Wyoming"
        ];
        const stateSelect = document.getElementById('state');
        usStates.forEach(state => {
            stateSelect.innerHTML += `<option value="${state}">${state}</option>`;
        });
    </script>
</body>
</html>
